<app-breadcrumb [icon]="'edit'" [currentView]="'EdiciÃ³n de Usuarios'"></app-breadcrumb>

<div class="container">
  <div class="container profile__wrapper mb-3">
    <div class="row">
      <form  [formGroup]="updateUserForm" (submit)="updateUser()">
        <div class="col-12 col-md-8 offset-md-2">
          <div class="row">
            <div class="col-12 text-center">
              <figure class="avatar__wrapper">
                <img [src]="this.updateUserForm.value.img !== '' ? (this.imagePath + '/images/' + this.updateUserForm.value.img) : '../../../../assets/default-user-example.jpg'" class="avatar" alt="">
                <button class="avatar__button" type="button" mat-fab aria-label="change picture" (click)="openUploadFiles()">
                  <mat-icon>camera_alt</mat-icon>
                </button>
                <input
                  #inputFiles
                  style="display: none"
                  type="file"
                  (change)="handleUpload($event)"
                />
              </figure>
            </div>
            <mat-divider class="my-5"></mat-divider>
            <div class="row">
              <div class="col-12 text-center">
                <h1>Informacion Personal</h1>
              </div>
              <div class="col col-md-6 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Nombre</mat-label>
                  <input matInput type="text"  formControlName="name" placeholder="Nombre" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col col-md-6 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Apellido</mat-label>
                  <input matInput type="text"  formControlName="lastname" placeholder="Apellido" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-md-6 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Nombre de Usuario</mat-label>
                  <input matInput type="text"  formControlName="username" placeholder="Nombre de usuario" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Correo Electronico</mat-label>
                  <input matInput type="text"  formControlName="email" placeholder="Correo electronico" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Numero de Telefono</mat-label>
                  <input matInput type="text"  formControlName="phone" placeholder="Numero de telefono" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-12 text-center">
                <mat-form-field appearance="outline" class="unique__input--item">
                  <mat-label>Contrasena</mat-label>
                  <input matInput [type]="hide ? 'password' : 'text'"  formControlName="password" placeholder="Contrasena" autocomplete="off" required>
                  <button mat-icon-button matSuffix type="button" (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                          [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
            </div>
            <mat-divider class="my-5"></mat-divider>
            <div class="row">
              <div class="col-12 text-center">
                <h1>Informacion de Domicilio</h1>
              </div>
              <div class="col-12 text-center">
                <mat-form-field appearance="outline" class="unique__input--item">
                  <mat-label>Direccion</mat-label>
                  <input matInput type="text"  formControlName="address" placeholder="Direccion" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col-12 col-sm-4 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Estado</mat-label>
                  <input matInput type="text"  formControlName="state" placeholder="Estado" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col-12 col-sm-4 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Ciudad</mat-label>
                  <input matInput type="text"  formControlName="city" placeholder="Valencia" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
              <div class="col-12 col-sm-4 text-center">
                <mat-form-field appearance="outline" class="dual__input--item">
                  <mat-label>Codigo Postal</mat-label>
                  <input matInput type="text"  formControlName="code" placeholder="Codigo postal" autocomplete="off" required>
                  <mat-error>Este Campo es <b>Requerido</b>.</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <mat-form-field appearance="outline"  class="dual__input--item">
                  <mat-label>Estatus</mat-label>
                  <mat-select formControlName="status" required >
                    <mat-option [value]='0'>Inactivo</mat-option>
                    <mat-option [value]="1">Activo </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <mat-divider class="my-5"></mat-divider>
            <div class="col-12 text-center">
              <div class="col-12 text-center my-4">
                <button mat-flat-button [disabled]="!updateUserForm.valid" type="submit" class="submit">Actualizar Usuario</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

</div>
